
<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Rason&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Rason&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="Rason&#39;s Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rason&#39;s Blog">
  
    <link rel="alternative" href="/atom.xml" title="Rason&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head></html>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Rason&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name="tn" type="hidden" value="bds">
          <input name="cl" type="hidden" value="3">
          <input name="ct" type="hidden" value="2097152">
          <input type="hidden" name="si" value="yoursite.com">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post-Microservices-with-Spring" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/11/Microservices-with-Spring/" class="article-date">
  <time datetime="2017-04-11T05:18:32.000Z" itemprop="datePublished">2017-04-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SpringCloud/">SpringCloud</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/11/Microservices-with-Spring/">Microservices with Spring</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>本文将介绍使用Spring, Spring Boot 和Spring Cloud来搭建一个简单的微服务系统。</p>
<p>微服务可以将一个大型的系统分成一系列互相协作的部分。它在进程级别完成和Spring 在组件级别完成的事情：松耦合进程而不是松耦合组件。</p>
<p>比如一个在线购物系统，使用微服务可以将其分成用户账户(user-accounts)，商品管理(product-catalog)，订单处理(order-processing)和购物车(shopping-carts)。如下图所示：</p>
<p><img src="https://raw.githubusercontent.com/rason/rason.github.io/master/image/shopping-system.jpg" alt="在线购物微服务系统"></p>
<p>为了简单起见，本文只实现这个庞大系统的一部分——用户账户。</p>
<p>Web-Application 使用RESTful API 请求Account-Service 微服务。我们还需要添加<em>发现服务</em>——使得其他进程可以找到对方。如下图所示：</p>
<p><img src="https://raw.githubusercontent.com/rason/rason.github.io/master/image/mini-system.jpg" alt="用户账户微服务"></p>
<h2 id="服务注册"><a href="#服务注册" class="headerlink" title="服务注册"></a>服务注册</h2><p>当多个进程需要互相协作时，必须需要知道对方的存在。如果您曾经使用Java的RMI机制，您可能会记得它依赖于一个中央注册表，以便RMI进程可以互相发现。微服务其实也差不多。</p>
<p><code>Netflix</code> 公司的开发者在开发系统他们自己的系统过程中也遇到过同样的问题，所以他们创造了一个服务注册系统——Eureka。幸运的是，他们开源了这个系统并且Spring 将其并入了Spring Cloud项目。所以我们可以很方便地运行一个Eureka服务。下面就是一个完整的<em>发现服务</em>应用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@SpringBootApplication</span><br><span class="line">@EnableEurekaServer</span><br><span class="line">public class ServiceRegistrationServer &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // 指定Spring Boot查找的配置文件</span><br><span class="line">        System.setProperty(&quot;spring.config.name&quot;, &quot;registration-server&quot;);</span><br><span class="line">        SpringApplication.run(ServiceRegistrationServer.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>是不是非常简单？</p>
        
          <p class="article-more-link">
            <a href="/2017/04/11/Microservices-with-Spring/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/04/11/Microservices-with-Spring/" data-id="cjs45t47t00clfn9fkvuyunfo" class="article-share-link" data-share="baidu" data-title="Microservices with Spring">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringCloud/">SpringCloud</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-RabbitMQ-6-RPC" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/RabbitMQ-6-RPC/" class="article-date">
  <time datetime="2017-03-23T01:00:03.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/AMQP/">AMQP</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/RabbitMQ-6-RPC/">RabbitMQ-SIX-RPC</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Remote-procedure-call-RPC"><a href="#Remote-procedure-call-RPC" class="headerlink" title="Remote procedure call (RPC)"></a>Remote procedure call (RPC)</h2><p>在RabbitMQ第二个教程中，我们学习了如何使用工作队列在多个工作线程间分配耗时的任务。</p>
<p>但是如果我们需要运行一个在远程计算机上的函数并等待结果呢？这种模式通常称为远程过程调用或RPC。</p>
<p>在今天这篇教程中我们将使用RabbitMQ来创建一个RPC系统：一个客户端和一个可扩展的RPC服务器。我们将要创建一个虚拟的RPC服务，返回斐波纳契数列计算值。</p>
<h2 id="客户端接口"><a href="#客户端接口" class="headerlink" title="客户端接口"></a>客户端接口</h2><p>为了说明如何使用RPC服务，我们将创建一个简单的客户端类。它将暴露一个名为call的方法，它发送一个RPC请求并阻塞，直到接收到响应：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FibonacciRpcClient fibonacciRpc = new FibonacciRpcClient();   </span><br><span class="line">String result = fibonacciRpc.call(&quot;4&quot;);</span><br><span class="line">System.out.println( &quot;fib(4) is &quot; + result);</span><br></pre></td></tr></table></figure>
<h2 id="RPC需要注意的地方"><a href="#RPC需要注意的地方" class="headerlink" title="RPC需要注意的地方"></a>RPC需要注意的地方</h2><p>虽然RPC在计算中是一个很常见的模式，但它经常被批评。当程序员不知道函数调用是本地还是缓慢的RPC时，就会出现问题。这样的混乱会导致不可预测的系统，并增加不必要的调试复杂性。误用RPC不但没有简化系统，可能导致像意大利面条一样无法维护的代码。</p>
<p>牢记这一点，请考虑以下建议:</p>
<ul>
<li>确保很明显哪个函数调用是本地的，哪个是远程的。</li>
<li>记录系统。使组件之间的依赖关系清晰。</li>
<li>处理错误情况。当RPC服务器长时间停机时，客户端应该如何处理？</li>
</ul>
<p>当有疑问时避免使用RPC。如果可以，您应该使用异步流水线，而不是类似RPC的阻塞，结果被异步推送到下一个计算阶段。</p>
<h2 id="回调队列"><a href="#回调队列" class="headerlink" title="回调队列"></a>回调队列</h2><p>实际上通过RabbitMQ来实现RPC十分简单。一个客户端发送请求信息和一个服务端返回响应信息。为了接收响应信息我们需要在请求信息中包含一个‘callback’ 队列。我们可以使用默认队列（在Java 客户端中是唯一的名字）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">callbackQueueName = channel.queueDeclare().getQueue();</span><br><span class="line"></span><br><span class="line">BasicProperties props = new BasicProperties</span><br><span class="line">                            .Builder()</span><br><span class="line">                            .replyTo(callbackQueueName)</span><br><span class="line">                            .build();</span><br><span class="line"></span><br><span class="line">channel.basicPublish(&quot;&quot;, &quot;rpc_queue&quot;, props, message.getBytes());</span><br><span class="line"></span><br><span class="line">// ... then code to read a response message from the callback_queue ...</span><br></pre></td></tr></table></figure>
<h2 id="Message-properties"><a href="#Message-properties" class="headerlink" title="Message properties"></a>Message properties</h2><p>AMQP协议中定义了消息的一系列属性。除了下面的属性之外，大部分都很少使用。</p>
<ul>
<li><strong>persistent</strong>：标记消息为持久(true)或者暂存(false)，教程二中有提及。</li>
<li><strong>content_type</strong>：用于描述编码的mime-type。例如对于经常使用的JSON编码，一个好的做法是将此属性设置为：application/json。</li>
<li><strong>reply_to</strong>：通常用来命名一个回调队列。</li>
<li><strong>correlation_id</strong>：用于将RPC响应与请求相关联。</li>
</ul>
<h2 id="Correlation-Id"><a href="#Correlation-Id" class="headerlink" title="Correlation Id"></a>Correlation Id</h2><p>在上面提供的方法中，我们建议为每个RPC请求创建一个回调队列。这是非常低效的，但幸运的是有一个更好的方法——让我们为每个客户端创建一个回调队列。</p>
<p>但是这样会引起新的问题，当队列里有了返回消息，我们怎么知道这个消息是对应哪个请求？这就是<code>correlation_id</code>属性的用途了。我们为每个请求设置唯一的<code>correlation_id</code>值。然后当响应消息返回时我们就可以查看这个属性值，这样就能知道对应哪个请求了。如果查看到的是未知的<code>correlation_id</code>值，我们就可以忽略这个响应消息——因为它不属于我们的请求。</p>
<p>你可能会问，为什么我们应该忽略回调队列中的未知消息，而不是失败的错误。这是由于服务器端出现竞争条件的可能性。虽然不太可能，但是RPC服务器可能在发送我们响应之后但在发送请求的确认消息之前死亡。如果发生这种情况，重新启动的RPC服务器将再次处理该请求。这就是为什么在客户端上我们必须优雅地处理重复的响应，并且RPC应该是幂等的。</p>
        
          <p class="article-more-link">
            <a href="/2017/03/23/RabbitMQ-6-RPC/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/03/23/RabbitMQ-6-RPC/" data-id="cjs45t48100dafn9f6zqckmxt" class="article-share-link" data-share="baidu" data-title="RabbitMQ-SIX-RPC">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RabbitMQ/">RabbitMQ</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-RabbitMQ-5-Topics" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/21/RabbitMQ-5-Topics/" class="article-date">
  <time datetime="2017-03-21T00:37:13.000Z" itemprop="datePublished">2017-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/AMQP/">AMQP</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/21/RabbitMQ-5-Topics/">RabbitMQ-Five-Topics</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Topics"><a href="#Topics" class="headerlink" title="Topics"></a>Topics</h2><p>在上一篇教程中，我们改善了一下日志系统。替换了<code>fanout</code> 类型的exchange 为<code>direct</code>类型，使得我们可以选择性地接收不同级别的日志。</p>
<p>虽然<code>direct</code> 类型的exchange 改善了我们的系统，但它依然存在局限性——它不能基于多个标准进行路由。</p>
<p>在我们的日志系统中，我们可能不仅需要根据日志的级别，而且还需要根据日志的发出点来进行订阅。你可能知道这个概念来自于UNIX 系统工具<a href="https://en.wikipedia.org/wiki/Syslog" target="_blank" rel="noopener">syslog</a>，它的日志路由就是基于级别(info/warn/cirt…)和来源(auth/corn/kern…)。</p>
<p>这样的话就会灵活很多，比如我们想监听来自于<code>cron</code>的严重错误日志和来自于<code>kern</code>的所有日志。</p>
<p>为了实现这样的日志系统，我们需要学习更加复杂的<code>topic</code> 类型的exchange。</p>
<h2 id="Topic-exchange"><a href="#Topic-exchange" class="headerlink" title="Topic exchange"></a>Topic exchange</h2><p>发送到<code>topic</code> 类型exchange 的消息不能是任意的routing_key——它必须是由点分隔的单词列表。这些单词可以随便取，但通常它们带有一些消息的链接特征。比如说：”stock.usd.nyse”, “nyse.vmw”, “quick.orange.rabbit”。当然不是你想要多长就有多长，路由键的最大长度是255个字节。</p>
<p><code>binding key</code>的格式和<code>routing key</code>格式是一样的。<code>topic</code> 类型exchange 背后的逻辑类似于<code>direct</code> 类型exchange  - 使用特定<code>routing key</code>发送的消息将被递送到用匹配<code>binding key</code>绑定的所有队列。但是有两个重要的特殊情况用于<code>binding key</code>：</p>
<ul>
<li><strong>*</strong> 号可以替换一个单词。</li>
<li><strong>#</strong> 号可以替换0个或者多个单词。</li>
</ul>
<p>下面的例子可以很简单地解析这两种用法：</p>
<p><img src="https://raw.githubusercontent.com/rason/rason.github.io/master/image/python-five.png" alt="Topic"></p>
<p>在这个例子中，我们准备发送描述动物的信息。这些信息将会通过一个带有三个单词（两个点）的路由键发送。第一个单词描述的是速度，第二个单词描述的是颜色，第三个单词描述的是种类： <code>&lt;speed&gt;.&lt;colour&gt;.&lt;species&gt;</code>。</p>
<p>我们创建三个<code>binding</code>：Q1的<code>binding key</code>是<code>*.orange.*</code>，Q2 的是 <code>*.*.rabbit</code> 和 <code>lazy.#</code>。</p>
<p>这些<code>bindings</code>可以描述为：</p>
<ul>
<li>Q1对所有橙色的动物感兴趣。</li>
<li>Q2对多所有的兔子和所有速度缓慢的动物感兴趣。</li>
</ul>
<p>如果一条消息通过”quick.orange.rabbit”的<code>routing key</code> 发送的话两个队列都会收到消息。”lazy.orange.elephant”的消息两个队列也能收到。</p>
<p>如果是”quick.orange.fox”那就只有第一个队列收到了，如果是”lazy.brown.fox”则只有第二个队列收到。</p>
<p>如果是”lazy.pink.rabbit” 只会被发到第二个队列一次，并不会发送两次，虽然它两个规则都匹配。</p>
<p>而”quick.brown.fox”不能匹配到任何地方则会被丢弃。</p>
<p>如果我们不遵循自己约定的规则通过一个或者四个单词的<code>routing key</code>来发送消息会怎样？比如 “orange” 或者 “quick.orange.male.rabbit”。因为这些消息不能匹配到任何<code>binding</code>，所以会丢失。</p>
<p>另外，假如是”lazy.orange.male.rabbit”，虽然有四个单词，但是它能被匹配，所以会发送到第二个队列。</p>
        
          <p class="article-more-link">
            <a href="/2017/03/21/RabbitMQ-5-Topics/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/03/21/RabbitMQ-5-Topics/" data-id="cjs45t44n003ofn9f3ve3jakr" class="article-share-link" data-share="baidu" data-title="RabbitMQ-Five-Topics">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RabbitMQ/">RabbitMQ</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-RabbitMQ-4-Routing" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/15/RabbitMQ-4-Routing/" class="article-date">
  <time datetime="2017-03-15T02:44:04.000Z" itemprop="datePublished">2017-03-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/AMQP/">AMQP</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/15/RabbitMQ-4-Routing/">RabbitMQ-Four-Routing</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Routing"><a href="#Routing" class="headerlink" title="Routing"></a>Routing</h2><p>在上一篇教程中我们创建了一个简单的日志系统。我们可以广播日志信息到很多接收者。</p>
<p>在今天的教程中我们添加一个新特性——使它能够订阅部分的消息。例如，我们可以仅将关键错误消息定向到日志文件（为了节省硬盘空间），同时仍然能够在控制台上打印所有日志消息。</p>
<h2 id="Bindings"><a href="#Bindings" class="headerlink" title="Bindings"></a>Bindings</h2><p>在之前的例子中我们已经创建了Bindings。你应该记得代码是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">channel.queueBind(queueName, EXCHANGE_NAME, &quot;&quot;);</span><br></pre></td></tr></table></figure>
<p>binding表示的是exchange和queue之间的绑定关系。可以简单地理解为：队列对这个exchange的消息感兴趣。</p>
<p>Bindings可以使用额外的routingKey参数。为了避免与<code>basic_publish</code>参数混淆，我们将其称为<code>binding key</code>。下面是使用key来创建一个binding：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">channel.queueBind(queueName, EXCHANGE_NAME, &quot;black&quot;);</span><br></pre></td></tr></table></figure>
<p><code>binding key</code>的含义取决于exchange的类型。上一篇文章中的<code>fanout</code>类型会忽略它的值。</p>
<h2 id="Direct-exchange"><a href="#Direct-exchange" class="headerlink" title="Direct exchange"></a>Direct exchange</h2><p>上篇教程的日志系统广播所有消息给所有消费者。我们希望将其扩展为允许根据消息的重要性过滤消息。例如我们可能想一个程序只接收关键错误日志信息并将其写到硬盘中，而警告信息和一般信息就不写了，节约硬盘空间。</p>
<p>我们之前使用的<code>fanout</code>类型的exchange不够灵活，因为它只是盲目地全部广播。</p>
<p>我们将使用<code>direct</code>类型的exchange来代替。<code>direct</code> 类型的exchange 背后的路由算法很简单——消息将发送到队列的<code>binding key</code>与发送消息时的<code>routing key</code>完全匹配的队列。</p>
<p>为了演示这个模式，请看下图：</p>
<p><img src="https://raw.githubusercontent.com/rason/rason.github.io/master/image/direct-exchange.png" alt="direct-exchange"></p>
<p>上图中，我们可以看到一个<code>direct</code> 类型的exchange X有两个队列绑定到它。第一个队列使用<code>binding key</code> orange 来绑定，第二个队列有两个bindings，一个是black一个是green。</p>
<p>这样的设置，如果一个消息通过<code>routing key</code> orange 发送将会被路由到第一个队列Q1，如果消息通过<code>routing key</code> black 或者 green都将被路由到队列Q2。其它的消息则会被丢弃。</p>
        
          <p class="article-more-link">
            <a href="/2017/03/15/RabbitMQ-4-Routing/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/03/15/RabbitMQ-4-Routing/" data-id="cjs45t44m003lfn9fnku0sc9c" class="article-share-link" data-share="baidu" data-title="RabbitMQ-Four-Routing">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RabbitMQ/">RabbitMQ</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-RabbitMQ-3-PublishSubscribe" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/13/RabbitMQ-3-PublishSubscribe/" class="article-date">
  <time datetime="2017-03-13T00:55:00.000Z" itemprop="datePublished">2017-03-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/AMQP/">AMQP</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/13/RabbitMQ-3-PublishSubscribe/">RabbitMQ-Three-PublishSubscribe</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="发布-订阅"><a href="#发布-订阅" class="headerlink" title="发布/订阅"></a>发布/订阅</h2><p>在上一篇教程中我们创建了一个工作队列。工作队列背后的假设是每个任务被交付给正好一个工作者进程。在今天的教程中我们将做一些完全不同的事情——将一个消息交付给多个消费者。这个模式成为<strong>发布/订阅</strong>。</p>
<p>为了演示这个模式，我们将创建一个简单的日志系统。它将包含两部分程序——第一部分将会发出日志信息而第二部分将会接收并打印出来。</p>
<p>在我们的日志系统中，接收程序的每个运行副本都将获得消息。这样的话我们就可以运行一个接收者直接记录日志到硬盘，与此同时我们将运行另一个接收者并在屏幕上查看日志。</p>
<p>本质上，发布的日志消息将被广播到所有接收者。</p>
<h2 id="Exchanges"><a href="#Exchanges" class="headerlink" title="Exchanges"></a>Exchanges</h2><p>在之前的教程中我们发送消息的队列和从队列接收消息。现在是时候在Rabbit中引入完整的消息模型。</p>
<p>先让我们来快速复习一下之前教程中出现的模型：</p>
<ul>
<li><strong>producer</strong>是发送消息的用户程序。</li>
<li><strong>queue</strong>是保存消息的缓冲区。</li>
<li><strong>consumer</strong>是接收消息的用户程序。</li>
</ul>
<p>RabbitMQ的消息传递模型的核心思想是，生产者从不会将任何消息直接发送到队列。实际上，生产者经常甚至不知道消息是否将被传递到任何队列。</p>
<p>相反，生产者只能向exchange发送消息。exchange是非常简单的东西，一边从生产者接收消息，另一边将消息推送到队列。exchange必须确切知道对接收到的消息做什么，是将它添加到一个特定的队列？还是添加到多个队列？或者是应该丢弃。这个规则的定义是由exchange的类型来决定的。</p>
<p><img src="https://raw.githubusercontent.com/rason/rason.github.io/master/image/exchanges.png" alt="exchange"></p>
<p>有几种可用的exchange：<code>direct, topic, headers , fanout</code>。今天我们将关注最后一个——<code>fanout</code>。先让我们创建一个这个类型的exchange，将其命名为<code>logs</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">channel.exchangeDeclare(&quot;logs&quot;, &quot;fanout&quot;);</span><br></pre></td></tr></table></figure>
<p><code>fanout</code>类型的exchange非常简单。从它的名字你应该可以大概猜到，它只是将它接收的所有消息广播到它知道的所有队列。这正是我们的日志系统所需要的。</p>
        
          <p class="article-more-link">
            <a href="/2017/03/13/RabbitMQ-3-PublishSubscribe/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/03/13/RabbitMQ-3-PublishSubscribe/" data-id="cjs45t47z00d7fn9f7w21xnl5" class="article-share-link" data-share="baidu" data-title="RabbitMQ-Three-PublishSubscribe">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RabbitMQ/">RabbitMQ</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-RabbitMQ-2-WorkQueues" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/09/RabbitMQ-2-WorkQueues/" class="article-date">
  <time datetime="2017-03-09T02:32:52.000Z" itemprop="datePublished">2017-03-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/AMQP/">AMQP</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/09/RabbitMQ-2-WorkQueues/">RabbitMQ-Two-WorkQueues</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Work-Queues"><a href="#Work-Queues" class="headerlink" title="Work Queues"></a>Work Queues</h2><p><img src="https://raw.githubusercontent.com/rason/rason.github.io/master/image/python-two.png" alt="工作队列"></p>
<p>上一篇教程中我们编写程序从一个命名的queue中发送和接收消息。在这篇教程中，我们将创建一个工作队列，用于在多个工作者之间分配耗时的任务。</p>
<p>工作队列（也称为任务队列）背后的主要思想是避免立即执行资源密集型任务，并且不得不等待它完成。相反，我们安排任务以后完成。我们将任务封装成一个消息然后将其发送到队列中。在后台运行的工作进程将弹出队列中任务并最终执行作业。当你运行很多工作进程时，任务将在它们之间共享。</p>
<p>这个概念在Web应用程序中尤其有用，因为在短期HTTP请求窗口中无法处理复杂任务。</p>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>在前一篇教程我们发送一个“Hello World!”消息。现在我们将发送字符串代表复杂的任务。我们不需要一个真正工作的任务，比如图片的缩放或者是PDF文件的渲染，我们可以通过<code>Thread.sleep()</code>功能来模拟耗时任务。一个点代表工作一秒。比如，一个任务<code>Hello...</code>代表将耗时3秒。</p>
<p>我们将稍微修改一下之前的<code>Send.java</code>，允许从命令行中发送任意消息。这个程序将任务调度到我们的工作队列，所以将其命名为<code>NewTask.java</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">package com.rason.rabbitmq.workqueues.hello;</span><br><span class="line"></span><br><span class="line">import com.rabbitmq.client.Channel;</span><br><span class="line">import com.rabbitmq.client.Connection;</span><br><span class="line">import com.rabbitmq.client.ConnectionFactory;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.TimeoutException;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by rason on 3/6/17.</span><br><span class="line"> */</span><br><span class="line">public class NewTask &#123;</span><br><span class="line"></span><br><span class="line">    private static final String QUEUE_NAME = &quot;hello&quot;;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws java.io.IOException,TimeoutException &#123;</span><br><span class="line">        ConnectionFactory factory = new ConnectionFactory();</span><br><span class="line">        factory.setHost(&quot;localhost&quot;);</span><br><span class="line"></span><br><span class="line">        Connection connection = factory.newConnection();</span><br><span class="line">        Channel channel = connection.createChannel();</span><br><span class="line"></span><br><span class="line">        channel.queueDeclare(QUEUE_NAME, false, false, false, null);</span><br><span class="line"></span><br><span class="line">        String message = getMessage(args);</span><br><span class="line">        channel.basicPublish(&quot;&quot;, QUEUE_NAME, null, message.getBytes());</span><br><span class="line">        System.out.println(&quot; [x] Sent &apos;&quot; + message + &quot;&apos;&quot;);</span><br><span class="line"></span><br><span class="line">        channel.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static String getMessage(String[] strings) &#123;</span><br><span class="line">        if (strings.length &lt; 1)</span><br><span class="line">            return &quot;Hello World!&quot;;</span><br><span class="line">        return joinStrings(strings, &quot; &quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static String joinStrings(String[] strings, String delimiter) &#123;</span><br><span class="line">        int length = strings.length;</span><br><span class="line">        if (length == 0) return &quot;&quot;;</span><br><span class="line">        StringBuilder words = new StringBuilder(strings[0]);</span><br><span class="line">        for (int i = 1; i &lt; length; i++) &#123;</span><br><span class="line">            words.append(delimiter).append(strings[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        return words.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
          <p class="article-more-link">
            <a href="/2017/03/09/RabbitMQ-2-WorkQueues/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/03/09/RabbitMQ-2-WorkQueues/" data-id="cjs45t47z00d3fn9f9di8tu9g" class="article-share-link" data-share="baidu" data-title="RabbitMQ-Two-WorkQueues">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RabbitMQ/">RabbitMQ</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-RabbitMQ-1-HelloWorld" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/07/RabbitMQ-1-HelloWorld/" class="article-date">
  <time datetime="2017-03-07T03:00:56.000Z" itemprop="datePublished">2017-03-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/AMQP/">AMQP</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/07/RabbitMQ-1-HelloWorld/">RabbitMQ-One-HelloWorld</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>RabbitMQ是一个消息代理。主要想法很简单：接收然后转发消息。你可以将其想象成一个邮局：当你发送邮件到邮箱，你很确定邮递员最终会将邮件送到收件人手上。按照这样的比喻，RabbitMQ就相当于一个邮箱、邮局和邮递员。</p>
<p>RabbitMQ与邮局的主要不同点是它并不是使用纸质邮件，而是接收，存储和转发二进制消息数据块。</p>
<p>RabbitMQ和一般消息传递，会使用一些术语：</p>
<ul>
<li><strong>生产</strong>：发送消息的程序称为生产者。我们通常会画成这样：</li>
</ul>
<p><img src="https://raw.githubusercontent.com/rason/rason.github.io/master/image/producer.png" alt="生产者"></p>
<ul>
<li><strong>队列</strong>:相当于邮箱的名字。它存在于RabbitMQ中。虽然消息流经RabbitMQ和你的应用，但它们只能被保存在队列中。队列没有界限，你想要多少它就能存储多少消息，本质上是一个无限缓冲区。多个生产者可以发送消息到一个队列，多个消费者和从一个队列获取数据。一个队列我们可以画成这样：</li>
</ul>
<p><img src="https://raw.githubusercontent.com/rason/rason.github.io/master/image/queue.png" alt="队列"></p>
<ul>
<li><strong>消费</strong>：消费跟接收具有类似的含义。一个消费者就是一个等待接受消息的程序。我们通常会画成这样：</li>
</ul>
<p><img src="https://raw.githubusercontent.com/rason/rason.github.io/master/image/consumer.png" alt="消费者"></p>
        
          <p class="article-more-link">
            <a href="/2017/03/07/RabbitMQ-1-HelloWorld/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/03/07/RabbitMQ-1-HelloWorld/" data-id="cjs45t44k003hfn9f0vv8cufj" class="article-share-link" data-share="baidu" data-title="RabbitMQ-One-HelloWorld">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RabbitMQ/">RabbitMQ</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Caching-Data-with-Spring" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/02/Caching-Data-with-Spring/" class="article-date">
  <time datetime="2017-03-02T05:13:02.000Z" itemprop="datePublished">2017-03-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SpringBoot/">SpringBoot</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/02/Caching-Data-with-Spring/">Spring Boot 缓存数据</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文将学习在Spring管理的Bean中使用缓存。</p>
<h3 id="你将会创建"><a href="#你将会创建" class="headerlink" title="你将会创建"></a>你将会创建</h3><p>你将会创建一个简单书籍仓库中使用缓存的应用。</p>
<h3 id="你将需要"><a href="#你将需要" class="headerlink" title="你将需要"></a>你将需要</h3><ul>
<li>大约15分钟</li>
<li>一个熟悉的IDE</li>
<li>JDK 1.8以上</li>
<li>MAVEN 3.0以上</li>
</ul>
<h2 id="创建一个书籍仓库"><a href="#创建一个书籍仓库" class="headerlink" title="创建一个书籍仓库"></a>创建一个书籍仓库</h2><p>首先，我们来创建一个简单的实体类来代表书籍。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package com.rason.cache.service;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by rason on 2/28/17.</span><br><span class="line"> */</span><br><span class="line">public class Book &#123;</span><br><span class="line"></span><br><span class="line">    private String isbn;</span><br><span class="line">    private String title;</span><br><span class="line"></span><br><span class="line">    public Book(String isbn, String title) &#123;</span><br><span class="line">        this.isbn = isbn;</span><br><span class="line">        this.title = title;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getIsbn() &#123;</span><br><span class="line">        return isbn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setIsbn(String isbn) &#123;</span><br><span class="line">        this.isbn = isbn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getTitle() &#123;</span><br><span class="line">        return title;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTitle(String title) &#123;</span><br><span class="line">        this.title = title;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Book&#123;&quot; + &quot;isbn=&apos;&quot; + isbn + &apos;\&apos;&apos; + &quot;, title=&apos;&quot; + title + &apos;\&apos;&apos; + &apos;&#125;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为实体添加仓库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package com.rason.cache.service;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by rason on 2/28/17.</span><br><span class="line"> */</span><br><span class="line">public interface BookRepository &#123;</span><br><span class="line"></span><br><span class="line">    public Book getByIsbn(String isbn);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>你可以使用Spring Data来提供仓库的实现，存储在SQL或者NoSQL中。但是这篇教材的重点不是这个，所以我们使用简单的代码来模拟一些潜在因素（比如网络服务，延迟等）。</p>
<p>在getByIsbn方法中我们调用了simulateSlowService方法来模拟耗时业务。在后面的例子中，我们将会用缓存使得获取速度更快。</p>
        
          <p class="article-more-link">
            <a href="/2017/03/02/Caching-Data-with-Spring/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/03/02/Caching-Data-with-Spring/" data-id="cjs45t47h00bqfn9fvci1hojc" class="article-share-link" data-share="baidu" data-title="Spring Boot 缓存数据">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringBoot-缓存/">SpringBoot 缓存</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Accessing-Data-with-MySQL" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/27/Accessing-Data-with-MySQL/" class="article-date">
  <time datetime="2017-02-27T08:00:48.000Z" itemprop="datePublished">2017-02-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SpringBoot/">SpringBoot</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/27/Accessing-Data-with-MySQL/">Spring Boot 集成 MySQL</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文将学习在Spring应用中连接MySQL数据库。我们将使用Spring Data JPA 来访问数据库，当然这是很多中选择中的其中一种（比如你也可以使用简单Spring JDBC）。</p>
<h3 id="你将会创建"><a href="#你将会创建" class="headerlink" title="你将会创建"></a>你将会创建</h3><p>你将会创建一个MySQL数据库，然后创建一个Spring应用来连接到这个数据库。</p>
<h3 id="你将需要"><a href="#你将需要" class="headerlink" title="你将需要"></a>你将需要</h3><ul>
<li>MySQL</li>
<li>大约15分钟</li>
<li>一个熟悉的IDE</li>
<li>JDK 1.8以上</li>
<li>MAVEN 3.0以上</li>
</ul>
<h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><p>在终端使用命令登录MySQL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>
<p>创建数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database db_example;</span><br><span class="line"></span><br><span class="line">mysql&gt; create user &apos;testuser&apos;@&apos;localhost&apos; identified by &apos;123456&apos;;</span><br><span class="line"></span><br><span class="line">mysql&gt; grant all on db_example.* to &apos;testuser&apos;@&apos;localhost&apos;;</span><br></pre></td></tr></table></figure>
<h2 id="创建application-properties文件"><a href="#创建application-properties文件" class="headerlink" title="创建application.properties文件"></a>创建application.properties文件</h2><p>如果没有配置，Spring Boot 会提供你所有默认的东西，比如默认的数据库是<code>H2</code>。所以你想使用其他数据库就必须在application.properties定义连接属性。</p>
<p>在资源文件夹中，我们创建一个资源文件<code>src/main/resources/application.properties</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">spring.jpa.hibernate.ddl-auto=create</span><br><span class="line">spring.datasource.url=jdbc:mysql://localhost:3306/db_example</span><br><span class="line">spring.datasource.username=testuser</span><br><span class="line">spring.datasource.password=123456</span><br></pre></td></tr></table></figure>
<p>这里的<code>spring.jpa.hibernate.ddl-auto</code>可以为none, update, create, create-drop。更多细节可以参考Hibernate 文档。</p>
        
          <p class="article-more-link">
            <a href="/2017/02/27/Accessing-Data-with-MySQL/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/02/27/Accessing-Data-with-MySQL/" data-id="cjs45t4690081fn9f2kkly7s1" class="article-share-link" data-share="baidu" data-title="Spring Boot 集成 MySQL">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringBoot-MySQL/">SpringBoot MySQL</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Consuming-a-RESTFul-Web-Service" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/21/Consuming-a-RESTFul-Web-Service/" class="article-date">
  <time datetime="2017-02-21T03:03:35.000Z" itemprop="datePublished">2017-02-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SpringBoot/">SpringBoot</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/21/Consuming-a-RESTFul-Web-Service/">客户端访问RESTFul Web Service</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文将学习创建一个应用来访问RESTFul Web Service。</p>
<h3 id="你将会创建"><a href="#你将会创建" class="headerlink" title="你将会创建"></a>你将会创建</h3><p>你将会创建一个使用Spring的<code>RestTemplate</code>来获取Spring Boot的RESTFul服务 <code>http://gturnquist-quoters.cfapps.io/api/random</code>中的随机返回信息的应用。</p>
<h3 id="你将需要"><a href="#你将需要" class="headerlink" title="你将需要"></a>你将需要</h3><ul>
<li>大约15分钟</li>
<li>一个熟悉的IDE</li>
<li>JDK 1.8以上</li>
<li>MAVEN 3.0以上</li>
</ul>
<h2 id="获取一个REST资源"><a href="#获取一个REST资源" class="headerlink" title="获取一个REST资源"></a>获取一个REST资源</h2><p><code>http://gturnquist-quoters.cfapps.io/api/random</code>是一个已存在的RESTFul服务，我们在浏览器中访问这个URL，会返回一个JSON格式的文档，类似这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   type: &quot;success&quot;,</span><br><span class="line">   value: &#123;</span><br><span class="line">      id: 10,</span><br><span class="line">      quote: &quot;Really loving Spring Boot, makes stand alone Spring apps easy.&quot;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例子足够简单，但是直接通过浏览器来访问URL来获取不是很有用。</p>
<p>一个更加有用的方式来访问REST服务应该是使用编程的方式。为了完成这个任务，Spring提供了一个方便的模板类<a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html" target="_blank" rel="noopener">RestTemplate</a>。<code>RestTemplate</code>只需要一行代码就可以和RESTFul服务进行交互。它还可以绑定数据到自定义的领域对象。</p>
        
          <p class="article-more-link">
            <a href="/2017/02/21/Consuming-a-RESTFul-Web-Service/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2017/02/21/Consuming-a-RESTFul-Web-Service/" data-id="cjs45t43h000tfn9folc9oxas" class="article-share-link" data-share="baidu" data-title="客户端访问RESTFul Web Service">Share</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RestTemplate/">RestTemplate</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
  </nav>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AMQP/">AMQP</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/">Architecture</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/BigData/">BigData</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Business/">Business</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Concurrency/">Concurrency</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DataBase/">DataBase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DesignPattern/">DesignPattern</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed/">Distributed</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Django/">Django</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Web/">Java Web</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode/">LeetCode</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Other/">Other</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBoot/">SpringBoot</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringCloud/">SpringCloud</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Thought/">Thought</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a><span class="category-list-count">7</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/">AOP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Adapter-Decorator/">Adapter Decorator</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/">Algorithm</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Architecture/">Architecture</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bean/">Bean</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BeanDefinitionRegistryPostProcessor/">BeanDefinitionRegistryPostProcessor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Binary-Tree/">Binary Tree</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ClassLoader/">ClassLoader</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ClassPath/">ClassPath</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Command-Chain-of-Responsibility/">Command Chain of Responsibility</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Concurrency/">Concurrency</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Consensus/">Consensus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Container-Lifecycle/">Container Lifecycle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cookie-and-Session/">Cookie and Session</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Curator/">Curator</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/">Django</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/">ELK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/">Elasticsearch</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Facade-Observer/">Facade Observer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Filter/">Filter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flume/">Flume</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gitlab-Jenkins/">Gitlab Jenkins</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git内部原理/">Git内部原理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git分支/">Git分支</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/">Hadoop</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HighMemery/">HighMemery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hystrix/">Hystrix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/">IO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IOC容器/">IOC容器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA线程池/">JAVA线程池</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-Encoding/">Java Encoding</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaBean转Xml/">JavaBean转Xml</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins-Tomcat/">Jenkins Tomcat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/">Kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LKM/">LKM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux内存/">Linux内存</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux命令/">Linux命令</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVCC/">MVCC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Network/">Network</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Partition/">Partition</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pig/">Pig</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/">RabbitMQ</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Raft/">Raft</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RestTemplate/">RestTemplate</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ribbon/">Ribbon</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Samza/">Samza</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Serialization/">Serialization</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ServletContext-ServletConfig/">ServletContext ServletConfig</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot-MySQL/">SpringBoot MySQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot-缓存/">SpringBoot 缓存</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/">SpringCloud</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/">SpringMVC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring基本结构/">Spring基本结构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Strategy-Proxy/">Strategy Proxy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Synchronized/">Synchronized</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thought/">Thought</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thrift/">Thrift</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat-NIO/">Tomcat NIO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat-Servlet-Interface/">Tomcat Servlet Interface</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat-find-Servlet/">Tomcat find Servlet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat架构/">Tomcat架构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web请求/">Web请求</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZooKeeper/">ZooKeeper</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zuul/">Zuul</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/distributed-session/">distributed-session</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git分支管理/">git分支管理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git远程仓库/">git远程仓库</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xml转javabean/">xml转javabean</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/三方存管/">三方存管</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二叉查找树/">二叉查找树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/任务列表/">任务列表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/优先队列-Algorithm/">优先队列 Algorithm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动态代理/">动态代理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/地址空间/">地址空间</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/子数组的最大值-Kadane算法/">子数组的最大值 Kadane算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符设备驱动/">字符设备驱动</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并发编程/">并发编程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/总结/">总结</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排序/">排序</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/操作系统/">操作系统</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/散列表/">散列表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文件系统/">文件系统</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/私募债/">私募债</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/符号表/">符号表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/虚拟内存/">虚拟内存</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/进程和线程/">进程和线程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/页面置换算法/">页面置换算法</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/Adapter-Decorator/" style="font-size: 10px;">Adapter Decorator</a> <a href="/tags/Algorithm/" style="font-size: 18px;">Algorithm</a> <a href="/tags/Architecture/" style="font-size: 20px;">Architecture</a> <a href="/tags/Bean/" style="font-size: 10px;">Bean</a> <a href="/tags/BeanDefinitionRegistryPostProcessor/" style="font-size: 10px;">BeanDefinitionRegistryPostProcessor</a> <a href="/tags/Binary-Tree/" style="font-size: 10px;">Binary Tree</a> <a href="/tags/ClassLoader/" style="font-size: 14px;">ClassLoader</a> <a href="/tags/ClassPath/" style="font-size: 10px;">ClassPath</a> <a href="/tags/Command-Chain-of-Responsibility/" style="font-size: 10px;">Command Chain of Responsibility</a> <a href="/tags/Concurrency/" style="font-size: 12px;">Concurrency</a> <a href="/tags/Consensus/" style="font-size: 10px;">Consensus</a> <a href="/tags/Container-Lifecycle/" style="font-size: 10px;">Container Lifecycle</a> <a href="/tags/Cookie-and-Session/" style="font-size: 10px;">Cookie and Session</a> <a href="/tags/Curator/" style="font-size: 10px;">Curator</a> <a href="/tags/Django/" style="font-size: 14px;">Django</a> <a href="/tags/ELK/" style="font-size: 10px;">ELK</a> <a href="/tags/Elasticsearch/" style="font-size: 14px;">Elasticsearch</a> <a href="/tags/Facade-Observer/" style="font-size: 10px;">Facade Observer</a> <a href="/tags/Filter/" style="font-size: 10px;">Filter</a> <a href="/tags/Flume/" style="font-size: 12px;">Flume</a> <a href="/tags/Gitlab-Jenkins/" style="font-size: 10px;">Gitlab Jenkins</a> <a href="/tags/Git内部原理/" style="font-size: 10px;">Git内部原理</a> <a href="/tags/Git分支/" style="font-size: 10px;">Git分支</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Hadoop/" style="font-size: 12px;">Hadoop</a> <a href="/tags/HighMemery/" style="font-size: 10px;">HighMemery</a> <a href="/tags/Hystrix/" style="font-size: 10px;">Hystrix</a> <a href="/tags/IO/" style="font-size: 10px;">IO</a> <a href="/tags/IOC容器/" style="font-size: 10px;">IOC容器</a> <a href="/tags/JAVA线程池/" style="font-size: 10px;">JAVA线程池</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Java-Encoding/" style="font-size: 10px;">Java Encoding</a> <a href="/tags/JavaBean转Xml/" style="font-size: 10px;">JavaBean转Xml</a> <a href="/tags/Jenkins-Tomcat/" style="font-size: 10px;">Jenkins Tomcat</a> <a href="/tags/Kafka/" style="font-size: 10px;">Kafka</a> <a href="/tags/LKM/" style="font-size: 10px;">LKM</a> <a href="/tags/Linux/" style="font-size: 16px;">Linux</a> <a href="/tags/Linux内存/" style="font-size: 10px;">Linux内存</a> <a href="/tags/Linux命令/" style="font-size: 10px;">Linux命令</a> <a href="/tags/MVCC/" style="font-size: 10px;">MVCC</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Network/" style="font-size: 20px;">Network</a> <a href="/tags/Partition/" style="font-size: 10px;">Partition</a> <a href="/tags/Pig/" style="font-size: 10px;">Pig</a> <a href="/tags/RabbitMQ/" style="font-size: 20px;">RabbitMQ</a> <a href="/tags/Raft/" style="font-size: 10px;">Raft</a> <a href="/tags/RestTemplate/" style="font-size: 10px;">RestTemplate</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/Samza/" style="font-size: 10px;">Samza</a> <a href="/tags/Serialization/" style="font-size: 10px;">Serialization</a> <a href="/tags/ServletContext-ServletConfig/" style="font-size: 10px;">ServletContext ServletConfig</a> <a href="/tags/SpringBoot/" style="font-size: 12px;">SpringBoot</a> <a href="/tags/SpringBoot-MySQL/" style="font-size: 10px;">SpringBoot MySQL</a> <a href="/tags/SpringBoot-缓存/" style="font-size: 10px;">SpringBoot 缓存</a> <a href="/tags/SpringCloud/" style="font-size: 14px;">SpringCloud</a> <a href="/tags/SpringMVC/" style="font-size: 12px;">SpringMVC</a> <a href="/tags/Spring基本结构/" style="font-size: 10px;">Spring基本结构</a> <a href="/tags/Strategy-Proxy/" style="font-size: 10px;">Strategy Proxy</a> <a href="/tags/Synchronized/" style="font-size: 10px;">Synchronized</a> <a href="/tags/Thought/" style="font-size: 10px;">Thought</a> <a href="/tags/Thrift/" style="font-size: 14px;">Thrift</a> <a href="/tags/Tomcat-NIO/" style="font-size: 10px;">Tomcat NIO</a> <a href="/tags/Tomcat-Servlet-Interface/" style="font-size: 10px;">Tomcat Servlet Interface</a> <a href="/tags/Tomcat-find-Servlet/" style="font-size: 10px;">Tomcat find Servlet</a> <a href="/tags/Tomcat架构/" style="font-size: 10px;">Tomcat架构</a> <a href="/tags/Web请求/" style="font-size: 10px;">Web请求</a> <a href="/tags/ZooKeeper/" style="font-size: 10px;">ZooKeeper</a> <a href="/tags/Zuul/" style="font-size: 10px;">Zuul</a> <a href="/tags/distributed-session/" style="font-size: 10px;">distributed-session</a> <a href="/tags/git分支管理/" style="font-size: 10px;">git分支管理</a> <a href="/tags/git远程仓库/" style="font-size: 10px;">git远程仓库</a> <a href="/tags/xml转javabean/" style="font-size: 10px;">xml转javabean</a> <a href="/tags/三方存管/" style="font-size: 10px;">三方存管</a> <a href="/tags/二叉查找树/" style="font-size: 10px;">二叉查找树</a> <a href="/tags/任务列表/" style="font-size: 10px;">任务列表</a> <a href="/tags/优先队列-Algorithm/" style="font-size: 10px;">优先队列 Algorithm</a> <a href="/tags/动态代理/" style="font-size: 10px;">动态代理</a> <a href="/tags/地址空间/" style="font-size: 10px;">地址空间</a> <a href="/tags/子数组的最大值-Kadane算法/" style="font-size: 10px;">子数组的最大值 Kadane算法</a> <a href="/tags/字符设备驱动/" style="font-size: 10px;">字符设备驱动</a> <a href="/tags/并发编程/" style="font-size: 10px;">并发编程</a> <a href="/tags/总结/" style="font-size: 10px;">总结</a> <a href="/tags/排序/" style="font-size: 16px;">排序</a> <a href="/tags/操作系统/" style="font-size: 10px;">操作系统</a> <a href="/tags/散列表/" style="font-size: 10px;">散列表</a> <a href="/tags/文件系统/" style="font-size: 10px;">文件系统</a> <a href="/tags/私募债/" style="font-size: 10px;">私募债</a> <a href="/tags/符号表/" style="font-size: 10px;">符号表</a> <a href="/tags/虚拟内存/" style="font-size: 12px;">虚拟内存</a> <a href="/tags/进程和线程/" style="font-size: 10px;">进程和线程</a> <a href="/tags/页面置换算法/" style="font-size: 10px;">页面置换算法</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/12/12/Raft/">Raft</a>
          </li>
        
          <li>
            <a href="/2017/12/05/Data-Partition/">Data Partition</a>
          </li>
        
          <li>
            <a href="/2017/11/30/MVCC/">MVCC</a>
          </li>
        
          <li>
            <a href="/2017/11/23/Http-Request-Method/">Http Request Method</a>
          </li>
        
          <li>
            <a href="/2017/11/06/io-model/">I/O Model</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 rason<br>
      Powered by <a href="//hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="totop"><img src="/img/scrollup.png"></a>
</div>

<!-- totop end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>
  function SetShareData(cmd, config) {
    if (shareDataTitle && shareDataUrl) {
      config.bdText = shareDataTitle;
      config.bdUrl = shareDataUrl;
    }
    return config;
  }
  window._bd_share_config={
    "common":{onBeforeClick: SetShareData},
    "share":{"bdCustomStyle":"/css/bdshare.css"}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js"></script>

</div>
</body>
</html>
